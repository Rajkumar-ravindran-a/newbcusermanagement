"use strict";(self.webpackChunkbcusermanagement=self.webpackChunkbcusermanagement||[]).push([[675],{4675:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var s=a(5043),r=a(8330),n=a(94),l=a(9989),i=a(5394),c=a(7392),o=a(7784),d=a(1787),g=a(1906),u=a(4449),m=a(7353),y=a(5865),h=a(7561),x=a(3892),j=a(899),p=a(4957),A=a(5732),S=a(247),b=a(5218),N=a(4051),f=a(5051),w=a(7488),v=a(579);const k=j.Ik().shape({strategyName:j.Yj().required("Strategy Name is required")}),E=()=>{const[e,t]=(0,s.useState)(!1),[a,j]=(0,s.useState)([]),[E,C]=(0,s.useState)(!1),[D,I]=(0,s.useState)(null),R=()=>{t(!1),C(!1),I(null)},Y=async()=>{try{const e=await p.A.get("/getStrategies");if(console.log(e),200===e.status){const t=e.data.map((e=>({"Strategy Id":e.id,"Strategy Name":e.StrategyName,Action:(0,v.jsxs)(A.A,{children:[(0,v.jsx)(S.b,{children:(0,v.jsx)(c.A,{children:(0,v.jsx)(f.txp,{})})}),(0,v.jsxs)(b.y,{"aria-label":"Action event example",onAction:t=>{"Delete"===t?q(e.id):"Edit"===t&&z(e)},children:[(0,v.jsx)(N.Y,{children:"Delete"},"Delete"),(0,v.jsx)(N.Y,{children:"Edit"},"Edit")]})]})})));j(t)}}catch(e){console.error("Error fetching strategies:",e)}};(0,s.useEffect)((()=>{Y()}),[]);const q=async e=>{try{204===(await p.A.delete("/strategies/".concat(e))).status&&Y()}catch(t){console.error("Error deleting strategy:",t)}},z=e=>{C(!0),I(e),t(!0)};return(0,v.jsxs)(r.A,{pageTitle:"Strategy",pageSubtitle:"Manage strategy",children:[(0,v.jsxs)(n.Z,{className:"mt-3 p-3",children:[(0,v.jsxs)("div",{className:"flex mb-2 justify-between",children:[(0,v.jsx)(o.A,{className:"searchUser",placeholder:"Search",InputProps:{startAdornment:(0,v.jsx)(d.A,{position:"start",children:(0,v.jsx)(i.zfp,{})})}}),(0,v.jsx)(g.A,{variant:"contained",startIcon:(0,v.jsx)(i.QwN,{}),onClick:()=>{C(!1),I(null),t(!0)},children:"Add Strategy"})]}),(0,v.jsx)(l.A,{title:["Strategy Id","Strategy Name","Action"],tableData:a})]}),(0,v.jsx)(u.A,{open:e,onClose:R,children:(0,v.jsxs)(m.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:"1rem",p:4},children:[(0,v.jsx)(y.A,{variant:"h6",component:"h2",mb:2,children:E?"Edit Strategy":"Add Strategy"}),(0,v.jsx)(x.l1,{initialValues:{strategyName:E&&D?D.StrategyName:""},enableReinitialize:!0,validationSchema:k,onSubmit:async(e,t)=>{let{resetForm:a}=t;try{if(E&&D){200===(await p.A.put("/strategies/".concat(D.id),{StrategyName:e.strategyName})).status&&(w.oR.success("Strategy updated successfully"),Y())}else{201===(await p.A.post("/strategies",{StrategyName:e.strategyName})).status&&(w.oR.success("Strategy created successfully"),Y())}}catch(s){console.error("Error saving strategy:",s)}a(),R()},children:e=>{let{errors:t,touched:a}=e;return(0,v.jsxs)(x.lV,{children:[console.log(D),(0,v.jsx)(h.A,{fullWidth:!0,margin:"normal",children:(0,v.jsx)(x.D0,{as:o.A,name:"strategyName",label:"Strategy Name",error:a.strategyName&&Boolean(t.strategyName),helperText:a.strategyName&&t.strategyName})}),(0,v.jsxs)(m.A,{mt:2,display:"flex",justifyContent:"flex-end",children:[(0,v.jsx)(g.A,{variant:"contained",color:"secondary",onClick:R,children:"Cancel"}),(0,v.jsx)(m.A,{ml:2}),(0,v.jsx)(g.A,{variant:"contained",type:"submit",children:E?"Update":"Submit"})]})]})}})]})})]})}}}]);
//# sourceMappingURL=675.a84a5c40.chunk.js.map