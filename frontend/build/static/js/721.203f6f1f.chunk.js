"use strict";(self.webpackChunkbcusermanagement=self.webpackChunkbcusermanagement||[]).push([[721],{1685:(e,s,r)=>{r.d(s,{A:()=>A});var t=r(4449),a=r(5043),n=r(9379),i=r(45),o=r(8387),l=r(4984),d=r(8812),c=r(8698),m=r(3693),u=r(579);const p=["className","component"];var h=r(9386),x=r(6623),j=r(3375);const b=(0,r(2532).A)("MuiBox",["root"]),v=(0,x.A)(),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:s,defaultTheme:r,defaultClassName:t="MuiBox-root",generateClassName:h}=e,x=(0,l.Ay)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(d.A);return a.forwardRef((function(e,a){const l=(0,m.A)(r),d=(0,c.A)(e),{className:j,component:b="div"}=d,v=(0,i.A)(d,p);return(0,u.jsx)(x,(0,n.A)({as:b,ref:a,className:(0,o.A)(j,h?h(t):t),theme:s&&l[s]||l},v))}))}({themeId:j.A,defaultTheme:v,defaultClassName:b.root,generateClassName:h.A.generate}),f=g,N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"1rem"},A=e=>{let{open:s,handleClose:r,children:a}=e;return(0,u.jsx)(t.A,{open:s,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,u.jsx)(f,{sx:N,children:a})})}},4721:(e,s,r)=>{r.r(s),r.d(s,{default:()=>H});var t=r(5043),a=r(7945),n=r(2235),i=r(4673),o=r(5865),l=r(453),d=r(579);const c=[{name:"NAME",uid:"name"},{name:"ROLE",uid:"role"},{name:"STATUS",uid:"userStatus"},{name:"ACTIONS",uid:"actions"}],m={Active:"green",paused:"orange",deleted:"red"},u=e=>{let{Userdata:s}=e;console.log(s,"Userdata");const r=(0,t.useCallback)(((e,s)=>{const r=e[s];switch(s){case"name":return(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,d.jsx)(l.Q,{style:{width:"40px",height:"40px",marginRight:"10px",fontSize:"1rem",fontWeight:"bold"},src:e.avatar,name:e.firstName.charAt(0).toUpperCase()}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:r}),(0,d.jsx)("p",{style:{margin:0,fontSize:"0.8em",fontWeight:"500"},children:e.firstName}),(0,d.jsx)("p",{style:{margin:0,fontSize:"0.8em",color:"gray"},children:e.email})]})]});case"role":return(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{style:{margin:0},children:r}),(0,d.jsx)("p",{style:{margin:0,fontSize:"0.8em",color:"gray"},children:e.team})]});case"status":return(0,d.jsx)("span",{style:{padding:"5px 10px",borderRadius:"15px",backgroundColor:m[e.userStatus],color:"white",fontSize:"0.8em"},children:r});case"actions":return(0,d.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,d.jsx)("button",{title:"Details",style:{cursor:"pointer",background:"none",border:"none"},children:"\ud83d\udc41\ufe0f"}),(0,d.jsx)("button",{title:"Edit",style:{cursor:"pointer",background:"none",border:"none"},children:"\u270f\ufe0f"}),(0,d.jsx)("button",{title:"Delete",style:{cursor:"pointer",background:"none",border:"none",color:"red"},children:"\ud83d\uddd1\ufe0f"})]});default:return r}}),[]);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"1.5rem",minHeight:"17rem"},children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:c.map((e=>(0,d.jsx)("th",{style:{textAlign:"left",padding:"10px",borderBottom:"1px solid #ddd"},children:e.name},e.uid)))})}),(0,d.jsx)("tbody",{children:s.map((e=>(0,d.jsx)("tr",{children:c.map((s=>(0,d.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:r(e,s.uid)},s.uid)))},e.id)))})]}),(0,d.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,d.jsxs)("div",{className:"flex gap-3 align-middle ",children:[(0,d.jsx)(o.A,{variant:"subtitle1",children:"Showing"}),(0,d.jsx)(i.r,{classNames:"offset-input w-1",style:{width:"1.5rem"}})]}),(0,d.jsx)(n.T,{loop:!0,showControls:!0,color:"success",initialPage:1,total:5})]})]})};var p=r(1906),h=r(5795),x=r(1685),j=r(3892),b=r(899),v=r(7488),g=r(4957),f=r(5394),N=r(9379),A=r(45),y=r(8387),w=r(8610),E=r(6803),S=r(1053),C=r(5213),R=r(2108),P=r(6262),I=r(6431),k=r(2532),z=r(2372);function L(e){return(0,z.Ay)("MuiInputAdornment",e)}const q=(0,k.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),U=["children","className","component","disablePointerEvents","disableTypography","position","variant"];var M;const T=(0,R.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s["position".concat((0,E.A)(r.position))],!0===r.disablePointerEvents&&s.disablePointerEvents,s[r.variant]]}})((0,P.A)((e=>{let{theme:s}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(s.vars||s).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(q.positionStart,"&:not(.").concat(q.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}))),B=t.forwardRef((function(e,s){const r=(0,I.b)({props:e,name:"MuiInputAdornment"}),{children:a,className:n,component:i="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:m,variant:u}=r,p=(0,A.A)(r,U),h=(0,C.A)()||{};let x=u;u&&h.variant,h&&!x&&(x=h.variant);const j=(0,N.A)((0,N.A)({},r),{},{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:l,position:m,variant:x}),b=(e=>{const{classes:s,disablePointerEvents:r,hiddenLabel:t,position:a,size:n,variant:i}=e,o={root:["root",r&&"disablePointerEvents",a&&"position".concat((0,E.A)(a)),i,t&&"hiddenLabel",n&&"size".concat((0,E.A)(n))]};return(0,w.A)(o,L,s)})(j);return(0,d.jsx)(S.A.Provider,{value:null,children:(0,d.jsx)(T,(0,N.A)((0,N.A)({as:i,ownerState:j,className:(0,y.A)(b.root,n),ref:s},p),{},{children:"string"!==typeof a||c?(0,d.jsxs)(t.Fragment,{children:["start"===m?M||(M=(0,d.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,a]}):(0,d.jsx)(o.A,{color:"textSecondary",children:a})}))})}));var D=r(2147),Y=r(8634),F=r(94);const H=()=>{const e=localStorage.getItem("token"),[s,r]=(0,t.useState)([]),[n,l]=(0,t.useState)(""),[c,m]=(0,t.useState)(!1),N=async()=>{try{const s=await g.A.get("/users",{headers:{Authorization:"bearer ".concat(e)}});200===s.status&&r(s.data)}catch(s){console.error("Error fetching users:",s)}};(0,t.useEffect)((()=>{N()}),[]);const A=s.filter((e=>{const s=n.toLowerCase();return e.firstName.toLowerCase().includes(s)||e.lastName.toLowerCase().includes(s)})),y=b.Ik({firstName:b.Yj().required("First Name is required"),lastName:b.Yj().required("Last Name is required"),email:b.Yj().email("Invalid email format").required("Email is required"),role:b.Yj().required("Role is required"),mobile:b.Yj().required("Mobile number is required"),password:b.Yj().required("Password is required")}),w=()=>{m(!c)};return(0,d.jsxs)(a.A,{pageTitle:"All users",pageSubtitle:"Manage user details",children:[(0,d.jsxs)(x.A,{open:c,handleClose:w,children:[(0,d.jsx)(o.A,{variant:"h6",className:"mb-2",children:"Add user"}),(0,d.jsx)(j.l1,{initialValues:{firstName:"",lastName:"",email:"",role:"",password:"",mobile:""},validationSchema:y,onSubmit:async s=>{try{201===(await g.A.post("/register",s,{headers:{Authorization:"bearer ".concat(e)}})).status&&(v.oR.success("User added successfully"),N(),m(!1))}catch(r){console.error("Error adding user:",r),v.oR.error("Failed to add user")}},children:e=>{let{errors:s,touched:r}=e;return(0,d.jsxs)(j.lV,{children:[(0,d.jsxs)("div",{className:"flex gap-4 mb-3",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)(j.D0,{name:"firstName",as:i.r,label:"First Name",placeholder:"Enter First Name"}),r.firstName&&s.firstName&&(0,d.jsx)("div",{className:"text-red-500 text-sm",children:s.firstName})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)(j.D0,{name:"lastName",as:i.r,label:"Last Name",placeholder:"Enter Last Name"}),r.lastName&&s.lastName&&(0,d.jsx)("div",{className:"text-red-500 text-sm",children:s.lastName})]})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)(j.D0,{name:"email",type:"email",as:i.r,label:"Email",placeholder:"Enter Your Email"}),r.email&&s.email&&(0,d.jsx)("div",{className:"text-red-500 text-sm",children:s.email})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)(j.D0,{name:"mobile",as:i.r,label:"Phone Number",placeholder:"Enter Phone Number"}),r.mobile&&s.mobile&&(0,d.jsx)("div",{className:"text-red-500 text-sm",children:s.mobile})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)(j.D0,{name:"role",as:D.d,label:"Role",placeholder:"Select Role",children:(0,d.jsx)(Y.y,{children:"Employee"},"2")}),r.role&&s.role&&(0,d.jsx)("div",{className:"text-red-500 text-sm",children:s.role})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)(j.D0,{name:"password",type:"password",as:i.r,label:"Password",placeholder:"Enter Password"}),r.password&&s.password&&(0,d.jsx)("div",{className:"text-red-500 text-sm",children:s.password})]}),(0,d.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,d.jsx)(p.A,{type:"submit",className:"mr-3 Btn-primary",variant:"contained",children:"Add User"}),(0,d.jsx)(p.A,{variant:"flat",onClick:w,children:"Cancel"})]})]})}})]}),(0,d.jsx)(F.Z,{className:"p-3 mt-4 userMainCard",children:(0,d.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)(h.A,{className:"searchUser",placeholder:"Search",value:n,onChange:e=>l(e.target.value),InputProps:{startAdornment:(0,d.jsx)(B,{position:"start",children:(0,d.jsx)(f.zfp,{})})}}),(0,d.jsx)(p.A,{className:"h-5 mb-4 addUserButton",onClick:()=>w(),variant:"outlined",startIcon:(0,d.jsx)(f.QwN,{}),children:"Add New Employee"})]}),(0,d.jsx)(u,{Userdata:A})]})})]})}},4957:(e,s,r)=>{r.d(s,{A:()=>a});const t=r(9722).A.create({baseURL:"http://43.204.150.47:8000",timeout:5e3});t.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e)),(e=>(console.error("Request Interceptor Error:",e),Promise.reject(e)))),t.interceptors.response.use((e=>(console.log("Response Interceptor: Response received"),e)),(e=>(e.response&&401===e.response.status?console.error("Response Interceptor: Unauthorized access - Redirecting to login"):console.error("Response Interceptor Error:",e.message),Promise.reject(e))));const a=t}}]);
//# sourceMappingURL=721.203f6f1f.chunk.js.map