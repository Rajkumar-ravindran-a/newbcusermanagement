"use strict";(self.webpackChunkbcusermanagement=self.webpackChunkbcusermanagement||[]).push([[906],{1685:(e,s,r)=>{r.d(s,{A:()=>A});var a=r(4449),t=r(5043),l=r(9379),n=r(45),i=r(8387),o=r(4984),d=r(8812),c=r(8698),m=r(3693),h=r(579);const x=["className","component"];var u=r(9386),p=r(6623),j=r(3375);const g=(0,r(2532).A)("MuiBox",["root"]),f=(0,p.A)(),b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:s,defaultTheme:r,defaultClassName:a="MuiBox-root",generateClassName:u}=e,p=(0,o.Ay)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(d.A);return t.forwardRef((function(e,t){const o=(0,m.A)(r),d=(0,c.A)(e),{className:j,component:g="div"}=d,f=(0,n.A)(d,x);return(0,h.jsx)(p,(0,l.A)({as:g,ref:t,className:(0,i.A)(j,u?u(a):a),theme:s&&o[s]||o},f))}))}({themeId:j.A,defaultTheme:f,defaultClassName:g.root,generateClassName:u.A.generate}),N=b,v={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"1rem"},A=e=>{let{open:s,handleClose:r,children:t}=e;return(0,h.jsx)(a.A,{open:s,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,h.jsx)(N,{sx:v,children:t})})}},2549:(e,s,r)=>{r.d(s,{A:()=>o});r(5043);var a=r(3519),t=r(2201),l=r(8155),n=r(579);const i=()=>(0,n.jsx)(t.A,{expand:"lg",className:"bg-body-tertiary",children:(0,n.jsxs)(a.A,{children:[(0,n.jsx)(t.A.Brand,{href:"#home",children:"Bulls Catch"}),(0,n.jsx)(t.A.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,n.jsx)("div",{className:"d-flex",children:(0,n.jsx)(l.A,{variant:"outline-danger",onClick:()=>{localStorage.removeItem("token"),window.location.href="/"},children:"Logout"})})]})}),o=e=>{let{children:s}=e;return(0,n.jsxs)("div",{className:"layout-main",children:[(0,n.jsx)(i,{}),(0,n.jsx)("div",{className:"flex flex-1 p-4",children:s})]})}},9525:(e,s,r)=>{r.r(s),r.d(s,{default:()=>A});var a=r(5043),t=(r(2549),r(2235)),l=r(4673),n=r(5865),i=r(453),o=r(579);const d=[{name:"NAME",uid:"name"},{name:"ROLE",uid:"role"},{name:"STATUS",uid:"userStatus"},{name:"ACTIONS",uid:"actions"}],c={Active:"green",paused:"orange",deleted:"red"},m=e=>{let{Userdata:s}=e;console.log(s,"Userdata");const r=(0,a.useCallback)(((e,s)=>{const r=e[s];switch(s){case"name":return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(i.Q,{style:{width:"40px",height:"40px",marginRight:"10px",fontSize:"1rem",fontWeight:"bold"},src:e.avatar,name:e.firstName.charAt(0).toUpperCase()}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:r}),(0,o.jsx)("p",{style:{margin:0,fontSize:"0.8em",fontWeight:"500"},children:e.firstName}),(0,o.jsx)("p",{style:{margin:0,fontSize:"0.8em",color:"gray"},children:e.email})]})]});case"role":return(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{margin:0},children:r}),(0,o.jsx)("p",{style:{margin:0,fontSize:"0.8em",color:"gray"},children:e.team})]});case"status":return(0,o.jsx)("span",{style:{padding:"5px 10px",borderRadius:"15px",backgroundColor:c[e.userStatus],color:"white",fontSize:"0.8em"},children:r});case"actions":return(0,o.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,o.jsx)("button",{title:"Details",style:{cursor:"pointer",background:"none",border:"none"},children:"\ud83d\udc41\ufe0f"}),(0,o.jsx)("button",{title:"Edit",style:{cursor:"pointer",background:"none",border:"none"},children:"\u270f\ufe0f"}),(0,o.jsx)("button",{title:"Delete",style:{cursor:"pointer",background:"none",border:"none",color:"red"},children:"\ud83d\uddd1\ufe0f"})]});default:return r}}),[]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"1.5rem",minHeight:"17rem"},children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:d.map((e=>(0,o.jsx)("th",{style:{textAlign:"left",padding:"10px",borderBottom:"1px solid #ddd"},children:e.name},e.uid)))})}),(0,o.jsx)("tbody",{children:s.map((e=>(0,o.jsx)("tr",{children:d.map((s=>(0,o.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:r(e,s.uid)},s.uid)))},e.id)))})]}),(0,o.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,o.jsxs)("div",{className:"flex gap-3 align-middle ",children:[(0,o.jsx)(n.A,{variant:"subtitle1",children:"Showing"}),(0,o.jsx)(l.r,{classNames:"offset-input w-1",style:{width:"1.5rem"}})]}),(0,o.jsx)(t.T,{loop:!0,showControls:!0,color:"success",initialPage:1,total:5})]})]})};var h=r(1685),x=r(3892),u=r(899),p=r(7488),j=r(2147),g=r(8634),f=r(94),b=r(1906),N=r(1175),v=r(4957);const A=()=>{const e=localStorage.getItem("token"),[s,r]=(0,a.useState)([]),[t,i]=(0,a.useState)(!1),d=async()=>{const s=await v.A.get("/users",{headers:{Authorization:"bearer ".concat(e)}});200===s.status&&r(s.data)};(0,a.useEffect)((()=>{d()}),[]);const c=u.Ik({firstName:u.Yj().required("First Name is required"),lastName:u.Yj().required("Last Name is required"),email:u.Yj().email("Invalid email format").required("Email is required"),role:u.Yj().required("Role is required"),password:u.Yj().required("Password is required")}),A=()=>{console.log("handleModelPopup",t),i(!t)};return(0,o.jsxs)(N.A,{pageTitle:"All users",pageSubtitle:"Manage user details",children:[(0,o.jsxs)(h.A,{open:t,handleClose:A,children:[(0,o.jsx)(n.A,{variant:"h6",className:"mb-2",children:"Add user"}),(0,o.jsx)(x.l1,{initialValues:{firstName:"",lastName:"",email:"",role:"",password:""},validationSchema:c,onSubmit:async s=>{const r=await v.A.post("/register",s,{headers:{Authorization:"bearer ".concat(e)}});console.log(r,"success"),p.oR.success("User added successfully"),d(),i(!t)},children:e=>{let{errors:s,touched:r}=e;return(0,o.jsxs)(x.lV,{children:[(0,o.jsxs)("div",{className:"flex gap-4 mb-3",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)(x.D0,{name:"firstName",as:l.r,label:"First Name",placeholder:"Enter First Name"}),r.firstName&&s.firstName&&(0,o.jsx)("div",{className:"text-red-500 text-sm",children:s.firstName})]}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)(x.D0,{name:"lastName",as:l.r,label:"Last Name",placeholder:"Enter Last Name"}),r.lastName&&s.lastName&&(0,o.jsx)("div",{className:"text-red-500 text-sm",children:s.lastName})]})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)(x.D0,{name:"email",type:"email",as:l.r,label:"Email",placeholder:"Enter Your Email"}),r.email&&s.email&&(0,o.jsx)("div",{className:"text-red-500 text-sm",children:s.email})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)(x.D0,{name:"role",as:j.d,label:"Role",placeholder:"Select Role",children:(0,o.jsx)(g.y,{children:"Employee"},"2")}),r.role&&s.role&&(0,o.jsx)("div",{className:"text-red-500 text-sm",children:s.role})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)(x.D0,{name:"password",type:"password",as:l.r,label:"Password",placeholder:"Enter Password"}),r.password&&s.password&&(0,o.jsx)("div",{className:"text-red-500 text-sm",children:s.password})]}),(0,o.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,o.jsx)(b.A,{type:"submit",className:"mr-3 Btn-primary",variant:"contained",children:"Add User"}),(0,o.jsx)(b.A,{variant:"flat",onClick:A,children:"Cancel"})]})]})}})]}),(0,o.jsx)(f.Z,{className:"p-3 mt-4",children:(0,o.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,o.jsx)("div",{className:"flex space-between ",children:(0,o.jsx)(b.A,{className:"h-5 mb-4",onClick:()=>A(),variant:"outlined",children:"Add User"})}),(0,o.jsx)(m,{Userdata:s})]})})]})}},4957:(e,s,r)=>{r.d(s,{A:()=>t});const a=r(9722).A.create({baseURL:"http://43.204.150.47:8000",timeout:5e3});a.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e)),(e=>(console.error("Request Interceptor Error:",e),Promise.reject(e)))),a.interceptors.response.use((e=>(console.log("Response Interceptor: Response received"),e)),(e=>(e.response&&401===e.response.status?console.error("Response Interceptor: Unauthorized access - Redirecting to login"):console.error("Response Interceptor Error:",e.message),Promise.reject(e))));const t=a}}]);
//# sourceMappingURL=906.60dc02af.chunk.js.map