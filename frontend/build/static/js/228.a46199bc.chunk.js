"use strict";(self.webpackChunkbcusermanagement=self.webpackChunkbcusermanagement||[]).push([[228],{7209:(e,r,s)=>{s.r(r),s.d(r,{default:()=>h});s(5043);var a=s(3892),o=s(899);const n=s.p+"static/media/rb_2744.fb546f948ff475158f59.png";var t=s(5865),l=s(7784),i=s(1906),c=s(2134),d=s(4420),u=s(7488),m=s(4957),p=s(579);const h=()=>{const e=(0,c.Zp)(),r=o.Ik({username:o.Yj().required("Username is required"),password:o.Yj().required("Password is required")}),s=(0,a.Wx)({initialValues:{username:"",password:""},validationSchema:r,onSubmit:async r=>{try{const s=await m.A.post("/login",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(200===s.status){localStorage.setItem("token",s.data.access_token);const r=(0,d.s)(s.data.access_token);1===r.role?e("/home"):2===r.role&&e("/datamanagement")}}catch(o){var s,a;console.log("authData",o),u.oR.error(null===o||void 0===o||null===(s=o.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)}}});return(0,p.jsxs)("div",{className:"authmain flex flex-row items-center",children:[(0,p.jsx)("div",{className:"image-container",children:(0,p.jsx)("img",{src:n,alt:"Login"})}),(0,p.jsx)("div",{className:"form-container",children:(0,p.jsxs)("div",{className:"login-form-container",children:[(0,p.jsx)(t.A,{variant:"h4",children:"Login"}),(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)(l.A,{name:"username",value:s.values.username,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Username",variant:"outlined",fullWidth:!0,margin:"normal",className:"input-field",error:s.touched.username&&Boolean(s.errors.username),helperText:s.touched.username&&s.errors.username}),(0,p.jsx)(l.A,{name:"password",type:"password",value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Password",variant:"outlined",fullWidth:!0,margin:"normal",className:"input-field",error:s.touched.password&&Boolean(s.errors.password),helperText:s.touched.password&&s.errors.password}),(0,p.jsx)(i.A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:"login-btn",children:"Login"})]})]})})]})}},4957:(e,r,s)=>{s.d(r,{A:()=>o});const a=s(9722).A.create({baseURL:"http://43.204.150.47:8000",timeout:5e3});a.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e)),(e=>(console.error("Request Interceptor Error:",e),Promise.reject(e)))),a.interceptors.response.use((e=>(console.log("Response Interceptor: Response received"),e)),(e=>(e.response&&401===e.response.status?console.error("Response Interceptor: Unauthorized access - Redirecting to login"):console.error("Response Interceptor Error:",e.message),Promise.reject(e))));const o=a}}]);
//# sourceMappingURL=228.a46199bc.chunk.js.map