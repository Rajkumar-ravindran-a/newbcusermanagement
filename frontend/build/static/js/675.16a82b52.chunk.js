"use strict";(self.webpackChunkbcusermanagement=self.webpackChunkbcusermanagement||[]).push([[675],{4675:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var s=r(5043),o=r(8330),a=r(94),n=r(3934),c=r(5394),i=r(7392),l=r(7784),d=r(1787),u=r(1906),p=r(4449),h=r(7353),m=r(5865),g=r(7561),x=r(3892),A=r(899),y=r(4957),j=r(5732),S=r(247),v=r(5218),b=r(4051),f=r(5051),w=r(7488),N=r(579);const k=A.Ik().shape({strategyName:A.Yj().required("Strategy Name is required")}),I=()=>{const[e,t]=(0,s.useState)(!1),[r,A]=(0,s.useState)([]),[I,C]=(0,s.useState)(!1),[R,D]=(0,s.useState)(null),F=()=>{t(!1),C(!1),D(null)},L=async()=>{try{const e=await y.A.get("/getStrategies");if(console.log(e),200===e.status){const t=e.data.map((e=>{var t;return{"Strategy Id":e.id,"Strategy Name":null===(t=e.StrategyName)||void 0===t?void 0:t.toUpperCase(),Action:(0,N.jsxs)(j.A,{children:[(0,N.jsx)(S.b,{children:(0,N.jsx)(i.A,{children:(0,N.jsx)(f.txp,{})})}),(0,N.jsxs)(v.y,{"aria-label":"Action event example",onAction:t=>{"Delete"===t?E(e.id):"Edit"===t&&T(e)},children:[(0,N.jsx)(b.Y,{children:"Delete"},"Delete"),(0,N.jsx)(b.Y,{children:"Edit"},"Edit")]})]})}}));A(t)}}catch(e){console.error("Error fetching strategies:",e)}};(0,s.useEffect)((()=>{L()}),[]);const E=async e=>{try{204===(await y.A.delete("/strategies/".concat(e))).status&&L()}catch(t){console.error("Error deleting strategy:",t)}},T=e=>{C(!0),D(e),t(!0)};return(0,N.jsxs)(o.A,{pageTitle:"Strategy",pageSubtitle:"Manage strategy",children:[(0,N.jsxs)(a.Z,{className:"mt-3 p-3",children:[(0,N.jsxs)("div",{className:"flex mb-2 justify-between",children:[(0,N.jsx)(l.A,{className:"searchUser",placeholder:"Search",InputProps:{startAdornment:(0,N.jsx)(d.A,{position:"start",children:(0,N.jsx)(c.zfp,{})})}}),(0,N.jsx)(u.A,{variant:"contained",startIcon:(0,N.jsx)(c.QwN,{}),onClick:()=>{C(!1),D(null),t(!0)},children:"Add Strategy"})]}),(0,N.jsx)(n.A,{title:["Strategy Id","Strategy Name","Action"],tableData:r})]}),(0,N.jsx)(p.A,{open:e,onClose:F,children:(0,N.jsxs)(h.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:"1rem",p:4},children:[(0,N.jsx)(m.A,{variant:"h6",component:"h2",mb:2,children:I?"Edit Strategy":"Add Strategy"}),(0,N.jsx)(x.l1,{initialValues:{strategyName:I&&R?R.strategyName:""},enableReinitialize:!0,validationSchema:k,onSubmit:async(e,t)=>{let{resetForm:r}=t;try{if(I&&R){200===(await y.A.put("/strategies/".concat(R.id),{strategyName:e.strategyName})).status&&(w.oR.success("Strategy updated successfully"),L())}else{201===(await y.A.post("/strategies",{strategyName:e.strategyName})).status&&(w.oR.success("Strategy created successfully"),L())}}catch(s){console.error("Error saving strategy:",s)}r(),F()},children:e=>{let{errors:t,touched:r}=e;return(0,N.jsxs)(x.lV,{children:[console.log(R),(0,N.jsx)(g.A,{fullWidth:!0,margin:"normal",children:(0,N.jsx)(x.D0,{as:l.A,name:"strategyName",label:"Strategy Name",error:r.strategyName&&Boolean(t.strategyName),helperText:r.strategyName&&t.strategyName})}),(0,N.jsxs)(h.A,{mt:2,display:"flex",justifyContent:"flex-end",children:[(0,N.jsx)(u.A,{variant:"contained",color:"secondary",onClick:F,children:"Cancel"}),(0,N.jsx)(h.A,{ml:2}),(0,N.jsx)(u.A,{variant:"contained",type:"submit",children:I?"Update":"Submit"})]})]})}})]})})]})}},3934:(e,t,r)=>{r.d(t,{A:()=>g});var s=r(5043),o=r(1596),a=r(9650),n=r(1806),c=r(4882),i=r(8076),l=r(39),d=r(8093),u=r(3460),p=r(1637),h=r(728),m=r(579);const g=e=>{let{title:t=[],columnWidths:r=[],tableData:g=[],renderAction:x,loading:A}=e;const[y,j]=(0,s.useState)(0),[S,v]=(0,s.useState)(5),[b,f]=(0,s.useState)({key:"",direction:"asc"}),w=e=>{f((t=>{const r=t.key===e&&"asc"===t.direction;return{key:e,direction:r?"desc":"asc"}}))},N=s.useMemo((()=>b.key?[...g].sort(((e,t)=>e[b.key]<t[b.key]?"asc"===b.direction?-1:1:e[b.key]>t[b.key]?"asc"===b.direction?1:-1:0)):g),[g,b]);return(0,m.jsx)(o.A,{className:"custom",children:(0,m.jsx)(a.A,{className:"tble-container",children:(0,m.jsxs)(n.A,{className:"tble-custom",stickyHeader:!0,children:[(0,m.jsx)(c.A,{children:(0,m.jsx)(i.A,{className:"tble-head",children:t.map(((e,t)=>"Gross Fund"===e?(0,m.jsx)(l.A,{align:"center",sx:{position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:(0,m.jsx)(d.A,{active:"grossFund"===b.key,direction:"grossFund"===b.key?b.direction:"asc",onClick:()=>w("grossFund"),children:"Gross Fund (Fund | Interest | Sharing)"})},"grossFund"):(0,m.jsx)(l.A,{align:"center",sx:{width:r[t]||"auto",minWidth:r[t]||150,maxWidth:r[t]||300,position:"sticky",top:0,backgroundColor:"white",zIndex:2},children:(0,m.jsx)(d.A,{active:b.key===e.toLowerCase(),direction:b.key===e.toLowerCase()?b.direction:"asc",onClick:()=>w(e.toLowerCase()),children:null===e||void 0===e?void 0:e.toUpperCase()})},t)))})}),(0,m.jsxs)(u.A,{className:"tble-body",children:[A&&(0,m.jsx)(i.A,{children:(0,m.jsx)(l.A,{colSpan:t.length,className:"middle-noData",children:(0,m.jsx)(p.A,{})})}),N.map(((e,t)=>(0,m.jsx)(i.A,{children:Object.keys(e).map(((s,o)=>["status","id","brokerId","fundAllocated","Record Id"].includes(s)?null:"grossFund"===s?(0,m.jsx)(l.A,{align:"center",sx:{minWidth:200,maxWidth:300,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"".concat(e.grossFund.toUpperCase()," | ").concat(e.grossFundInterest.toUpperCase()," | ").concat(e.grossFundSharing.toUpperCase())},"".concat(t,"-grossFund")):(0,m.jsx)(l.A,{align:"center",sx:{width:r[o]||"auto",minWidth:r[o]||150,maxWidth:r[o]||300,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"action"===s&&x?(0,m.jsx)(h.T,{isDisabled:3===e.status,onPress:()=>{return t=e.status,r=e.id,void(1===t?x(r):x());var t,r},children:1===e.status?"Release":"Released"}):e[s]},"".concat(t,"-").concat(o))))},t))),!A&&0===N.length&&(0,m.jsx)(i.A,{children:(0,m.jsx)(l.A,{colSpan:t.length,className:"middle-noData",align:"center",children:"No data found."})})]})]})})})}},4957:(e,t,r)=>{r.d(t,{A:()=>o});const s=r(9722).A.create({baseURL:"http://43.204.150.47:8000",timeout:5e3});s.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e)),(e=>(console.error("Request Interceptor Error:",e),Promise.reject(e)))),s.interceptors.response.use((e=>(console.log("Response Interceptor: Response received"),e)),(e=>(e.response&&401===e.response.status?(window.location.href="/",console.error("Response Interceptor: Unauthorized access - Redirecting to login")):console.error("Response Interceptor Error:",e.message),Promise.reject(e))));const o=s},8093:(e,t,r)=>{r.d(t,{A:()=>w});var s=r(9379),o=r(45),a=r(8610),n=r(8387),c=r(5043),i=r(408),l=r(9662),d=r(579);const u=(0,l.A)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var p=r(2108),h=r(6262),m=r(8206),g=r(6803),x=r(2532),A=r(2372);function y(e){return(0,A.Ay)("MuiTableSortLabel",e)}const j=(0,x.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]);var S=r(4162);const v=["active","children","className","direction","hideSortIcon","IconComponent","slots","slotProps"],b=(0,p.Ay)(i.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})((0,h.A)((e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,["& .".concat(j.icon)]:{opacity:.5}},["&.".concat(j.active)]:{color:(t.vars||t).palette.text.primary,["& .".concat(j.icon)]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}}))),f=(0,p.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t["iconDirection".concat((0,g.A)(r.direction))]]}})((0,h.A)((e=>{let{theme:t}=e;return{fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}}))),w=c.forwardRef((function(e,t){const r=(0,m.b)({props:e,name:"MuiTableSortLabel"}),{active:c=!1,children:i,className:l,direction:p="asc",hideSortIcon:h=!1,IconComponent:x=u,slots:A={},slotProps:j={}}=r,w=(0,o.A)(r,v),N=(0,s.A)((0,s.A)({},r),{},{active:c,direction:p,hideSortIcon:h,IconComponent:x}),k=(e=>{const{classes:t,direction:r,active:s}=e,o={root:["root",s&&"active","direction".concat((0,g.A)(r))],icon:["icon","iconDirection".concat((0,g.A)(r))]};return(0,a.A)(o,y,t)})(N),I={slots:A,slotProps:j},[C,R]=(0,S.A)("root",{elementType:b,externalForwardedProps:I,ownerState:N,className:(0,n.A)(k.root,l),ref:t}),[D,F]=(0,S.A)("icon",{elementType:f,externalForwardedProps:I,ownerState:N,className:k.icon});return(0,d.jsxs)(C,(0,s.A)((0,s.A)((0,s.A)({disableRipple:!0,component:"span"},R),w),{},{children:[i,h&&!c?null:(0,d.jsx)(D,(0,s.A)({as:x},F))]}))}))}}]);
//# sourceMappingURL=675.16a82b52.chunk.js.map