"use strict";(self.webpackChunkbcusermanagement=self.webpackChunkbcusermanagement||[]).push([[675],{4675:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var s=a(5043),r=a(8330),n=a(94),l=a(9989),i=a(5394),c=a(7392),o=a(7784),d=a(1787),g=a(1906),u=a(4449),m=a(7353),y=a(5865),h=a(7561),x=a(3892),p=a(899),j=a(4957),A=a(5732),S=a(247),b=a(5218),N=a(4051),f=a(5051),v=a(7488),w=a(579);const k=p.Ik().shape({strategyName:p.Yj().required("Strategy Name is required")}),C=()=>{const[e,t]=(0,s.useState)(!1),[a,p]=(0,s.useState)([]),[C,E]=(0,s.useState)(!1),[D,I]=(0,s.useState)(null),R=()=>{t(!1),E(!1),I(null)},U=async()=>{try{const e=await j.A.get("/getStrategies");if(console.log(e),200===e.status){const t=e.data.map((e=>{var t;return{"Strategy Id":e.id,"Strategy Name":null===(t=e.StrategyName)||void 0===t?void 0:t.toUpperCase(),Action:(0,w.jsxs)(A.A,{children:[(0,w.jsx)(S.b,{children:(0,w.jsx)(c.A,{children:(0,w.jsx)(f.txp,{})})}),(0,w.jsxs)(b.y,{"aria-label":"Action event example",onAction:t=>{"Delete"===t?Y(e.id):"Edit"===t&&q(e)},children:[(0,w.jsx)(N.Y,{children:"Delete"},"Delete"),(0,w.jsx)(N.Y,{children:"Edit"},"Edit")]})]})}}));p(t)}}catch(e){console.error("Error fetching strategies:",e)}};(0,s.useEffect)((()=>{U()}),[]);const Y=async e=>{try{204===(await j.A.delete("/strategies/".concat(e))).status&&U()}catch(t){console.error("Error deleting strategy:",t)}},q=e=>{E(!0),I(e),t(!0)};return(0,w.jsxs)(r.A,{pageTitle:"Strategy",pageSubtitle:"Manage strategy",children:[(0,w.jsxs)(n.Z,{className:"mt-3 p-3",children:[(0,w.jsxs)("div",{className:"flex mb-2 justify-between",children:[(0,w.jsx)(o.A,{className:"searchUser",placeholder:"Search",InputProps:{startAdornment:(0,w.jsx)(d.A,{position:"start",children:(0,w.jsx)(i.zfp,{})})}}),(0,w.jsx)(g.A,{variant:"contained",startIcon:(0,w.jsx)(i.QwN,{}),onClick:()=>{E(!1),I(null),t(!0)},children:"Add Strategy"})]}),(0,w.jsx)(l.A,{title:["Strategy Id","Strategy Name","Action"],tableData:a})]}),(0,w.jsx)(u.A,{open:e,onClose:R,children:(0,w.jsxs)(m.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:"1rem",p:4},children:[(0,w.jsx)(y.A,{variant:"h6",component:"h2",mb:2,children:C?"Edit Strategy":"Add Strategy"}),(0,w.jsx)(x.l1,{initialValues:{strategyName:C&&D?D.strategyName:""},enableReinitialize:!0,validationSchema:k,onSubmit:async(e,t)=>{let{resetForm:a}=t;try{if(C&&D){200===(await j.A.put("/strategies/".concat(D.id),{strategyName:e.strategyName})).status&&(v.oR.success("Strategy updated successfully"),U())}else{201===(await j.A.post("/strategies",{strategyName:e.strategyName})).status&&(v.oR.success("Strategy created successfully"),U())}}catch(s){console.error("Error saving strategy:",s)}a(),R()},children:e=>{let{errors:t,touched:a}=e;return(0,w.jsxs)(x.lV,{children:[console.log(D),(0,w.jsx)(h.A,{fullWidth:!0,margin:"normal",children:(0,w.jsx)(x.D0,{as:o.A,name:"strategyName",label:"Strategy Name",error:a.strategyName&&Boolean(t.strategyName),helperText:a.strategyName&&t.strategyName})}),(0,w.jsxs)(m.A,{mt:2,display:"flex",justifyContent:"flex-end",children:[(0,w.jsx)(g.A,{variant:"contained",color:"secondary",onClick:R,children:"Cancel"}),(0,w.jsx)(m.A,{ml:2}),(0,w.jsx)(g.A,{variant:"contained",type:"submit",children:C?"Update":"Submit"})]})]})}})]})})]})}}}]);
//# sourceMappingURL=675.edf04687.chunk.js.map