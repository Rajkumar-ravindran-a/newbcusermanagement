"use strict";(self.webpackChunkbcusermanagement=self.webpackChunkbcusermanagement||[]).push([[14],{1014:(e,r,n)=>{n.r(r),n.d(r,{default:()=>N});var t=n(5043),a=n(7392),s=n(5865),o=n(7784),i=n(1906),l=n(4157),d=n(8330),u=n(4957),c=n(7488),p=n(1787),b=n(3892),h=n(899),g=n(4449),F=n(7353),m=n(579);const x=h.Ik().shape({brokerName:h.Yj().required("Broker Name is required"),grossFund:h.ai().typeError("Gross Fund must be a number").min(0,"Gross Fund must be greater than or equal to 0").required("Gross Fund is required"),grossFundInterest:h.ai().typeError("Gross Fund Interest must be a number").min(0,"Interest must be at least 0%").max(100,"Interest cannot exceed 100%").required("Gross Fund Interest is required"),grossFundSharing:h.ai().typeError("Gross Fund Sharing must be a number").min(0,"Sharing must be at least 0%").max(100,"Sharing cannot exceed 100%").required("Gross Fund Sharing is required"),arbitrageFund:h.ai().typeError("Arbitrage Fund must be a number").min(0,"Arbitrage Fund must be greater than or equal to 0").required("Arbitrage Fund is required"),arbitrageFundInterest:h.ai().typeError("Arbitrage Fund Interest must be a number").min(0,"Interest must be at least 0%").max(100,"Interest cannot exceed 100%").required("Arbitrage Fund Interest is required"),arbitrageFundSharing:h.ai().typeError("Arbitrage Fund Sharing must be a number").min(0,"Sharing must be at least 0%").max(100,"Sharing cannot exceed 100%").required("Arbitrage Fund Sharing is required"),propFund:h.ai().typeError("Prop Fund must be a number").min(0,"Prop Fund must be greater than or equal to 0").required("Prop Fund is required"),propFundInterest:h.ai().typeError("Prop Fund Interest must be a number").min(0,"Interest must be at least 0%").max(100,"Interest cannot exceed 100%").required("Prop Fund Interest is required"),propFundSharing:h.ai().typeError("Prop Fund Sharing must be a number").min(0,"Sharing must be at least 0%").max(100,"Sharing cannot exceed 100%").required("Prop Fund Sharing is required"),b2pFund:h.ai().typeError("Client Fund must be a number").min(0,"Client Fund must be greater than or equal to 0").required("Client Fund is required"),b2pFundInterest:h.ai().typeError("Client Fund Interest must be a number").min(0,"Interest must be at least 0%").max(100,"Interest cannot exceed 100%").required("Client Fund Interest is required"),b2pFundSharing:h.ai().typeError("Client Fund Sharing must be a number").min(0,"Sharing must be at least 0%").max(100,"Sharing cannot exceed 100%").required("Client Fund Sharing is required"),clientFund:h.ai().typeError("Client Fund must be a number").min(0,"Client Fund must be greater than or equal to 0").required("Client Fund is required"),clientFundInterest:h.ai().typeError("Client Fund Interest must be a number").min(0,"Interest must be at least 0%").max(100,"Interest cannot exceed 100%").required("Client Fund Interest is required"),clientFundSharing:h.ai().typeError("Client Fund Sharing must be a number").min(0,"Sharing must be at least 0%").max(100,"Sharing cannot exceed 100%").required("Client Fund Sharing is required"),costPerCr:h.ai().typeError("Cost must be a number").min(0,"Cost must be greater than or equal to 0").required("Cost is required")}),v=e=>{let{open:r,handleClose:n,onFormSubmit:t,brokerData:a,isDisable:l}=e;const d={id:(null===a||void 0===a?void 0:a.id)||null,brokerName:(null===a||void 0===a?void 0:a.brokerName)||"",grossFund:(null===a||void 0===a?void 0:a.grossFund)||0,grossFundInterest:(null===a||void 0===a?void 0:a.grossFundInterest)||0,grossFundSharing:(null===a||void 0===a?void 0:a.grossFundSharing)||0,arbitrageFund:(null===a||void 0===a?void 0:a.arbitrageFund)||0,arbitrageFundInterest:(null===a||void 0===a?void 0:a.arbitrageFundInterest)||0,arbitrageFundSharing:(null===a||void 0===a?void 0:a.arbitrageFundSharing)||0,propFund:(null===a||void 0===a?void 0:a.propFund)||0,propFundInterest:(null===a||void 0===a?void 0:a.propFundInterest)||0,propFundSharing:(null===a||void 0===a?void 0:a.propFundSharing)||0,b2pFund:(null===a||void 0===a?void 0:a.b2pFund)||0,b2pFundInterest:(null===a||void 0===a?void 0:a.b2pFundInterest)||0,b2pFundSharing:(null===a||void 0===a?void 0:a.b2pFundSharing)||0,clientFund:(null===a||void 0===a?void 0:a.b2pFund)||0,clientFundInterest:(null===a||void 0===a?void 0:a.b2pFundInterest)||0,clientFundSharing:(null===a||void 0===a?void 0:a.b2pFundSharing)||0,costPerCr:(null===a||void 0===a?void 0:a.costPerCr)||0};return(0,m.jsx)(g.A,{open:r,onClose:n,children:(0,m.jsxs)(F.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:2,overflowY:"auto",height:600},children:[(0,m.jsx)(s.A,{variant:"h6",sx:{marginBottom:"20px"},children:d.id?"Update Broker":"Add Broker"}),(0,m.jsx)(b.l1,{initialValues:d,validationSchema:x,onSubmit:async(e,r)=>{let{resetForm:a}=r;try{e.id?(await u.A.put("/updateBroker/".concat(e.id),e),c.oR.success("Broker updated successfully.")):(await u.A.post("/createBroker",e),c.oR.success("Broker added successfully.")),t(),a(),n()}catch(l){var s,o,i;console.error(null===l||void 0===l||null===(s=l.response)||void 0===s?void 0:s.data),c.oR.error((null===l||void 0===l||null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.detail)||"An error occurred.")}},enableReinitialize:!0,children:e=>{let{values:r,errors:t,touched:a,handleChange:s,handleBlur:u,setFieldValue:c}=e;return(0,m.jsx)(b.lV,{children:(0,m.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,m.jsx)(o.A,{name:"brokerName",label:"Broker Name",value:r.brokerName,onChange:e=>{const r=e.target.value.toUpperCase();c("brokerName",r)},onBlur:u,error:a.brokerName&&Boolean(t.brokerName),helperText:a.brokerName&&t.brokerName,fullWidth:!0,disabled:l,inputProps:{style:{textTransform:"uppercase"}}}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"grossFund",label:"Gross Fund (1Cr)",value:r.grossFund,onChange:s,onBlur:u,disabled:l,error:a.grossFund&&Boolean(t.grossFund),helperText:a.grossFund&&t.grossFund,fullWidth:!0}),(0,m.jsx)(o.A,{name:"grossFundInterest",label:"Interest (%)",value:r.grossFundInterest,onChange:s,onBlur:u,disabled:l,error:a.grossFundInterest&&Boolean(t.grossFundInterest),helperText:a.grossFundInterest&&t.grossFundInterest,fullWidth:!0}),(0,m.jsx)(o.A,{name:"grossFundSharing",label:"Sharing (%)",value:r.grossFundSharing,onChange:s,onBlur:u,disabled:l,error:a.grossFundSharing&&Boolean(t.grossFundSharing),helperText:a.grossFundSharing&&t.grossFundSharing,fullWidth:!0})]}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"arbitrageFund",label:"Arbitrage Fund (1Cr)",value:r.arbitrageFund,onChange:s,onBlur:u,disabled:l,error:a.arbitrageFund&&Boolean(t.arbitrageFund),helperText:a.arbitrageFund&&t.arbitrageFund,fullWidth:!0}),(0,m.jsx)(o.A,{name:"arbitrageFundInterest",label:"Interest (%)",value:r.arbitrageFundInterest,onChange:s,onBlur:u,disabled:l,error:a.arbitrageFundInterest&&Boolean(t.arbitrageFundInterest),helperText:a.arbitrageFundInterest&&t.arbitrageFundInterest,fullWidth:!0}),(0,m.jsx)(o.A,{name:"arbitrageFundSharing",label:"Sharing (%)",value:r.arbitrageFundSharing,onChange:s,onBlur:u,disabled:l,error:a.arbitrageFundSharing&&Boolean(t.arbitrageFundSharing),helperText:a.arbitrageFundSharing&&t.arbitrageFundSharing,fullWidth:!0})]}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"propFund",label:"Prop Fund (1Cr)",value:r.propFund,disabled:l,onChange:s,onBlur:u,error:a.propFund&&Boolean(t.propFund),helperText:a.propFund&&t.propFund,fullWidth:!0}),(0,m.jsx)(o.A,{name:"propFundInterest",label:"Interest (%)",value:r.propFundInterest,disabled:l,onChange:s,onBlur:u,error:a.propFundInterest&&Boolean(t.propFundInterest),helperText:a.propFundInterest&&t.propFundInterest,fullWidth:!0}),(0,m.jsx)(o.A,{name:"propFundSharing",label:"Sharing (%)",value:r.propFundSharing,disabled:l,onChange:s,onBlur:u,error:a.propFundSharing&&Boolean(t.propFundSharing),helperText:a.propFundSharing&&t.propFundSharing,fullWidth:!0})]}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"b2pFund",label:"B2P",value:r.b2pFund,disabled:l,onChange:s,onBlur:u,error:a.b2pFund&&Boolean(t.b2pFund),helperText:a.b2pFund&&t.b2pFund,fullWidth:!0}),(0,m.jsx)(o.A,{name:"b2pFundInterest",label:"Interest (%)",value:r.b2pFundInterest,disabled:l,onChange:s,onBlur:u,error:a.b2pFundInterest&&Boolean(t.b2pFundInterest),helperText:a.b2pFundInterest&&t.b2pFundInterest,fullWidth:!0}),(0,m.jsx)(o.A,{name:"b2pFundSharing",label:"Sharing (%)",value:r.b2pFundSharing,disabled:l,onChange:s,onBlur:u,error:a.b2pFundSharing&&Boolean(t.b2pFundSharing),helperText:a.b2pFundSharing&&t.b2pFundSharing,fullWidth:!0})]}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"clientFund",label:"Client",value:r.clientFund,disabled:l,onChange:s,onBlur:u,error:a.clientFund&&Boolean(t.clientFund),helperText:a.clientFund&&t.clientFund,fullWidth:!0}),(0,m.jsx)(o.A,{name:"clientFundInterest",label:"Interest (%)",value:r.clientFundInterest,onChange:s,onBlur:u,disabled:l,error:a.clientFundInterest&&Boolean(t.clientFundInterest),helperText:a.clientFundInterest&&t.clientFundInterest,fullWidth:!0}),(0,m.jsx)(o.A,{name:"clientFundSharing",label:"Sharing (%)",value:r.clientFundSharing,onChange:s,disabled:l,onBlur:u,error:a.clientFundSharing&&Boolean(t.clientFundSharing),helperText:a.clientFundSharing&&t.clientFundSharing,fullWidth:!0})]}),(0,m.jsx)(o.A,{name:"costPerCr",label:"Cost Per Cr",value:r.costPerCr,onChange:s,disabled:l,onBlur:u,error:a.costPerCr&&Boolean(t.costPerCr),helperText:a.costPerCr&&t.costPerCr,fullWidth:!0,margin:"normal"}),!l&&(0,m.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,m.jsx)(i.A,{variant:"contained",color:"secondary",onClick:n,children:"Cancel"}),(0,m.jsx)(i.A,{type:"submit",variant:"contained",color:"primary",children:d.id?"Update Broker":"Add Broker"})]})]})})}})]})})};var S=n(94),A=n(5394),I=n(5051),j=n(5732),f=n(247),C=n(5218),k=n(4051);const y=e=>{let{open:r,handleClose:n,children:t}=e;return(0,m.jsx)(g.A,{open:r,onClose:n,children:(0,m.jsx)(F.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,p:2,borderRadius:2,overflowY:"auto",height:600},children:t})})},B=["Broker Name","Gross","Arbitrage","Prop","B2P","Client","Total ","Action"],N=()=>{const[e,r]=(0,t.useState)([]),[n,b]=(0,t.useState)(null),[h,g]=(0,t.useState)(!1),[F,x]=(0,t.useState)(null),[N,P]=(0,t.useState)(!1),[q,w]=(0,t.useState)({}),[W,T]=(0,t.useState)([]),[R,E]=(0,t.useState)(!1),D=(0,t.useCallback)((async()=>{g(!0);try{const i=await u.A.get("/getAllBroker");if(200===i.status){var e,n,t,s,o;console.log(null===(e=i.data)||void 0===e?void 0:e.data);const l=null===(n=i.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.map((e=>({"Broker Name":e.brokerName,"Gross Fund Interest":e.grossFundInterest||0,"Gross Fund":e.grossFund||0,"Gross Fund Sharing":e.grossFundSharing||0,"Arbitrage Fund Interest":e.arbitrageFundInterest||0,"Arbitrage Fund":e.arbitrageFund||0,"Arbitrage Fund Sharing":e.arbitrageFundSharing||0,"Prop Fund Interest":e.propFundInterest||0,"Prop Fund":e.propFund||0,"Prop Fund Sharing":e.propFundSharing||0,"Cost Per Cr":e.costPerCr||0,b2pFund:e.b2pFund||0,b2pFundsharing:e.b2pFundsharing||0,b2pFundInterest:e.b2pFundInterest||0,clientFund:e.clientFund,clientFundSharing:e.clientFundSharing,clientFundInterest:e.clientFundInterest,"Total Fund":void 0!==e.grossFund&&void 0!==e.arbitrageFund&&void 0!==e.propFund?e.grossFund+e.arbitrageFund+e.propFund:0,Action:(0,m.jsxs)(j.A,{children:[(0,m.jsx)(f.b,{children:(0,m.jsx)(a.A,{children:(0,m.jsx)(I.txp,{})})}),(0,m.jsxs)(C.y,{"aria-label":"Action menu",onAction:r=>G(r,e),children:[(0,m.jsx)(k.Y,{isDisabled:3===e.status,children:"Release"},"release"),(0,m.jsx)(k.Y,{isDisabled:3===e.status,children:"Edit"},"edit"),(0,m.jsx)(k.Y,{children:"Delete"},"delete")]})]})}))),d=null===i||void 0===i||null===(s=i.data)||void 0===s||null===(o=s.totals)||void 0===o?void 0:o.map((e=>({Gross:e.totalGrossFund,Arbitrage:e.totalArbitrageFund,Prop:e.totalPropFund,B2P:e.totalB2pFund,Client:e.totalClientFund})));T(d),r(l)}else c.oR.error("Failed to fetch broker data.")}catch(i){console.error(i),c.oR.error("Error fetching broker data.")}finally{g(!1)}}),[]),G=(e,r)=>{"release"===e?L(r):"edit"===e?(x(r),b(document.body)):"delete"===e&&(async e=>{try{console.warn(e),200===(await u.A.put("/softDeleteBroker/".concat(e.id))).status?(c.oR.success('Broker "'.concat(e.brokerName,'" deleted successfully.')),D()):c.oR.error('Failed to delete broker "'.concat(e.brokerName,'".'))}catch(r){console.error(r),c.oR.error("Error deleting broker.")}})(r)},L=async e=>{try{200===(await u.A.put("/releaseBroker/".concat(e.id,"/3"))).status&&(c.oR.success('Broker "'.concat(e.brokerName,'" released successfully.')),D())}catch(r){console.error(r),c.oR.error("Error releasing broker.")}};(0,t.useEffect)((()=>{D()}),[D]);const M=()=>{P(!1)};return(0,m.jsxs)(d.A,{pageTitle:"Brokers",pageSubtitle:"Add, view, and release brokers",children:[(0,m.jsxs)(y,{open:N,handleClose:M,children:[(0,m.jsxs)("div",{className:"flex justify-between align-middle mb-2",children:[(0,m.jsxs)(s.A,{className:"mt-2",children:["Broker Name - ",q["Broker Name"],console.log("Broker Name",q)]}),(0,m.jsx)(a.A,{onClick:M,children:(0,m.jsx)(A.$8F,{})})]}),(0,m.jsx)("div",{style:{padding:10,display:"flex",flexDirection:"column",gap:5},children:(0,m.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,m.jsx)(o.A,{name:"brokerName",label:"Broker Name",value:q["Broker Name"],sx:{"& .Mui-disabled":{color:"black"}},disabled:!0,inputProps:{style:{textTransform:"uppercase",color:"black"}}}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"grossFund",label:"Gross Fund (1Cr)",value:q["Gross Fund"],disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"grossFundInterest",label:"Interest (%)",value:q["Gross Fund Interest"],disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"grossFundSharing",label:"Sharing (%)",value:q["Gross Fund Sharing"],disabled:!0,fullWidth:!0})]}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"arbitrageFund",label:"Arbitrage Fund (1Cr)",value:q["Arbitrage Fund"],disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"arbitrageFundInterest",label:"Interest (%)",value:q["Arbitrage Fund Interest"],disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"arbitrageFundSharing",label:"Sharing (%)",value:q["Arbitrage Fund Sharing"],disabled:!0,fullWidth:!0})]}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"propFund",label:"Prop Fund (1Cr)",value:q["Prop Fund"],disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"propFundInterest",label:"Interest (%)",value:q["Prop Fund Interest"],disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"propFundSharing",label:"Sharing (%)",value:q["Prop Fund Sharing"],disabled:!0,fullWidth:!0})]}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"b2pFund",value:q.b2pFund,label:"B2P",disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"b2pFundInterest",label:"Interest (%)",value:q.b2pFundInterest,disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"b2pFundSharing",value:q.b2pFundsharing,label:"Sharing (%)",disabled:!0,fullWidth:!0})]}),(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(o.A,{name:"clientFund",value:q.clientFund,label:"Client",disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"clientFundInterest",label:"Interest (%)",value:q.clientFundInterest,disabled:!0,fullWidth:!0}),(0,m.jsx)(o.A,{name:"clientFundSharing",label:"Sharing (%)",value:q.clientFundSharing,fullWidth:!0,disabled:!0})]}),(0,m.jsx)(o.A,{name:"costPerCr",label:"Cost Per Cr",value:q["Cost Per Cr"],fullWidth:!0,margin:"normal",disabled:!0})]})})]}),(0,m.jsxs)(S.Z,{className:"settings-mainCard",style:{marginTop:"1rem",width:"100%",overflowY:"scroll"},children:[(0,m.jsxs)("div",{className:"flex justify-between p-2 align-middle broker-form",children:[(0,m.jsx)(o.A,{className:"searchUser",placeholder:"Search",InputProps:{startAdornment:(0,m.jsx)(p.A,{position:"start",children:(0,m.jsx)(A.zfp,{})})}}),(0,m.jsx)(i.A,{variant:"contained",color:"primary",onClick:e=>b(e.currentTarget),startIcon:(0,m.jsx)(A.QwN,{}),children:"Add Broker"})]}),(0,m.jsx)(v,{anchorEl:n,open:Boolean(n),handleClose:()=>{b(null),x(null)},onFormSubmit:D,brokerData:F,isDisable:R}),(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsx)(l.A,{title:B,tableData:e,headerTotal:W,loading:h,onRowClick:e=>{P(!0),w(e)}})})]})]})}},4157:(e,r,n)=>{n.d(r,{A:()=>T});var t=n(5043),a=n(1596),s=n(9650),o=n(1806),i=n(4882),l=n(8076),d=n(39),u=n(9379),c=n(45),p=n(8610),b=n(8387),h=n(408),g=n(9662),F=n(579);const m=(0,g.A)((0,F.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var x=n(2108),v=n(6262),S=n(8206),A=n(6803),I=n(2532),j=n(2372);function f(e){return(0,j.Ay)("MuiTableSortLabel",e)}const C=(0,I.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]);var k=n(4162);const y=["active","children","className","direction","hideSortIcon","IconComponent","slots","slotProps"],B=(0,x.Ay)(h.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,n.active&&r.active]}})((0,v.A)((e=>{let{theme:r}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(r.vars||r).palette.text.secondary},"&:hover":{color:(r.vars||r).palette.text.secondary,["& .".concat(C.icon)]:{opacity:.5}},["&.".concat(C.active)]:{color:(r.vars||r).palette.text.primary,["& .".concat(C.icon)]:{opacity:1,color:(r.vars||r).palette.text.secondary}}}}))),N=(0,x.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.icon,r["iconDirection".concat((0,A.A)(n.direction))]]}})((0,v.A)((e=>{let{theme:r}=e;return{fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:r.transitions.create(["opacity","transform"],{duration:r.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}}))),P=t.forwardRef((function(e,r){const n=(0,S.b)({props:e,name:"MuiTableSortLabel"}),{active:t=!1,children:a,className:s,direction:o="asc",hideSortIcon:i=!1,IconComponent:l=m,slots:d={},slotProps:h={}}=n,g=(0,c.A)(n,y),x=(0,u.A)((0,u.A)({},n),{},{active:t,direction:o,hideSortIcon:i,IconComponent:l}),v=(e=>{const{classes:r,direction:n,active:t}=e,a={root:["root",t&&"active","direction".concat((0,A.A)(n))],icon:["icon","iconDirection".concat((0,A.A)(n))]};return(0,p.A)(a,f,r)})(x),I={slots:d,slotProps:h},[j,C]=(0,k.A)("root",{elementType:B,externalForwardedProps:I,ownerState:x,className:(0,b.A)(v.root,s),ref:r}),[P,q]=(0,k.A)("icon",{elementType:N,externalForwardedProps:I,ownerState:x,className:v.icon});return(0,F.jsxs)(j,(0,u.A)((0,u.A)((0,u.A)({disableRipple:!0,component:"span"},C),g),{},{children:[a,i&&!t?null:(0,F.jsx)(P,(0,u.A)({as:l},q))]}))}));var q=n(3460),w=n(1637),W=n(728);const T=e=>{let{title:r=[],columnWidths:n=[],tableData:u=[],renderAction:c,loading:p,headerTotal:b,onRowClick:h}=e;const[g,m]=(0,t.useState)({key:"",direction:"asc"}),x=["status","id","brokerId","fundAllocated","Record Id","Gross Fund Interest","Gross Fund Sharing","Arbitrage Fund Interest","Arbitrage Fund Sharing","Prop Fund Interest","Prop Fund Sharing","Cost Per Cr","b2pFundsharing","b2pFundInterest","clientFundSharing","clientFundInterest"],v=(0,t.useMemo)((()=>g.key?[...u].sort(((e,r)=>{var n,t;const a=null!==(n=e[g.key])&&void 0!==n?n:"",s=null!==(t=r[g.key])&&void 0!==t?t:"";return"number"===typeof a&&"number"===typeof s?"asc"===g.direction?a-s:s-a:"asc"===g.direction?String(a).localeCompare(String(s)):String(s).localeCompare(String(a))})):u),[u,g]);return(0,F.jsx)(a.A,{className:"custom",children:(0,F.jsx)(s.A,{className:"tble-container",children:(0,F.jsxs)(o.A,{className:"tble-custom",stickyHeader:!0,children:[(0,F.jsx)(i.A,{children:(0,F.jsx)(l.A,{className:"tble-head",children:r.filter((e=>!x.includes(e))).map(((e,r)=>(0,F.jsx)(d.A,{align:"center",sx:{width:n[r]||"auto",minWidth:n[r]||150,maxWidth:n[r]||300,position:"sticky",top:0,backgroundColor:"white",zIndex:2},children:(0,F.jsx)(P,{active:g.key===e,direction:g.key===e?g.direction:"asc",onClick:()=>{return r=e,void m((e=>{const n=e.key===r&&"asc"===e.direction;return{key:r,direction:n?"desc":"asc"}}));var r},children:(0,F.jsxs)("div",{className:"flex flex-col",children:[(0,F.jsx)("div",{className:"headertext",children:null===e||void 0===e?void 0:e.toUpperCase()}),(0,F.jsx)("div",{className:"total-div",children:b&&(null===b||void 0===b?void 0:b.length)>0&&Object.keys(b[0]).includes(e)?b[0][e]:null})]})})},r)))})}),(0,F.jsxs)(q.A,{className:"tble-body",children:[p&&(0,F.jsx)(l.A,{children:(0,F.jsx)(d.A,{colSpan:r.length,className:"middle-noData",children:(0,F.jsx)(w.A,{})})}),v.map(((e,r)=>(0,F.jsx)(l.A,{onClick:()=>h&&h(e),sx:{cursor:h?"pointer":"default","&:hover":h?{backgroundColor:"#f0f0f0"}:{}},children:Object.keys(e).filter((e=>!x.includes(e))).map(((t,a)=>(0,F.jsx)(d.A,{align:"center",sx:{width:n[a]||"auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"action"===t&&c?(0,F.jsx)(W.T,{isDisabled:3===e.status,onPress:r=>{r.stopPropagation(),c(e.id)},children:1===e.status?"Release":"Released"}):e[t]},"".concat(r,"-").concat(a))))},r))),!p&&0===v.length&&(0,F.jsx)(l.A,{children:(0,F.jsx)(d.A,{colSpan:r.length,className:"middle-noData",align:"center",children:"No data found."})})]})]})})})}},4957:(e,r,n)=>{n.d(r,{A:()=>a});const t=n(9722).A.create({baseURL:"http://43.204.150.47:8000",timeout:5e3});t.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e)),(e=>(console.error("Request Interceptor Error:",e),Promise.reject(e)))),t.interceptors.response.use((e=>(console.log("Response Interceptor: Response received"),e)),(e=>(e.response&&401===e.response.status?(window.location.href="/",console.error("Response Interceptor: Unauthorized access - Redirecting to login")):console.error("Response Interceptor Error:",e.message),Promise.reject(e))));const a=t}}]);
//# sourceMappingURL=14.6aab363b.chunk.js.map